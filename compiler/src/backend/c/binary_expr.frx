import "ast.frx";
import "c.frx";
import "../../frontend/syntax/binary_expr.frx";

export void transpile_binary_expr(Transpiler* transpiler, ASTBinaryExpr* expr)
{
    assert(transpiler != nullptr);

    assert(expr != nullptr);

    switch(expr->operator)
    {
        case OP_ARRAY_SUBSCRIPT:
        {
            transpile_ast(transpiler, expr->left);
            fprintf(transpiler->file, "[");
            transpile_ast(transpiler, expr->right);
            fprintf(transpiler->file, "]");

            break;
        }
        default:
        {
            fprintf(transpiler->file, "(");
            transpile_ast(transpiler, expr->left);
            fprintf(transpiler->file, " %s ", token_type_to_str(expr->type));
            transpile_ast(transpiler, expr->right);
            fprintf(transpiler->file, ")");

            break;
        }
    }
}
