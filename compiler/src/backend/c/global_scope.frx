import "c.frx";
import "extern_block.frx";
import "struct_decl.frx";
import "func_decl.frx";
import "enum_def.frx";
import "struct_def.frx";
import "func_def.frx";
import "global_var_decl.frx";
import "global_var_def.frx";

export import "../../frontend/ast/global_scope.frx";

export void transpile_global_scope(Transpiler* transpiler, AST::GlobalScope* global_scope)
{
    frx::assert(transpiler != nullptr);

    frx::assert(global_scope != nullptr);

    switch(global_scope->type)
    {
        case AST::GlobalScopeType::IMPORT_STMT:
        {
            break;
        }

        case AST::GlobalScopeType::EXTERN_BLOCK:
        {
            transpile_extern_block(transpiler, global_scope->extern_block);

            break;
        }

        case AST::GlobalScopeType::STRUCT_DECL:
        {
            transpile_struct_decl(transpiler, global_scope->struct_decl);

            break;
        }

        case AST::GlobalScopeType::FUNC_DECL:
        {
            transpile_func_decl(transpiler, global_scope->func_decl);

            break;
        }

        case AST::GlobalScopeType::ENUM_DEF:
        {
            transpile_enum_def(transpiler, global_scope->enum_def);

            break;
        }

        case AST::GlobalScopeType::STRUCT_DEF:
        {
            transpile_struct_def(transpiler, global_scope->struct_def);

            break;
        }

        case AST::GlobalScopeType::FUNC_DEF:
        {
            transpile_func_def(transpiler, global_scope->func_def);

            break;
        }

        case AST::GlobalScopeType::GLOBAL_VAR_DECL:
        {
            transpile_global_var_decl(transpiler, global_scope->global_var_decl);

            break;
        }

        case AST::GlobalScopeType::GLOBAL_VAR_DEF:
        {
            transpile_global_var_def(transpiler, global_scope->global_var_def);

            break;
        }

        default:
        {
            frx::assert(false);

            break;
        }
    }
}
