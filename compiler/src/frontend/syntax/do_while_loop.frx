export import "../ast/do_while_loop.frx";
import "expr.frx";
import "scope.frx";
import "../core/parser.frx";

export DoWhileLoop* do_while_loop_parse(Parser* parser)
{
    frx::assert(parser != nullptr);

    parser_eat(parser, TokenType::KW_DO);

    Scope* scope = scope_parse(parser);

    parser_eat(parser, TokenType::KW_WHILE);
    parser_eat(parser, TokenType::LPAREN);
    Expr* condition = expr_parse(parser);
    parser_eat(parser, TokenType::RPAREN);
    parser_eat(parser, TokenType::SEMICOLON);

    return do_while_loop_new(&parser->arena, scope, condition);
}
