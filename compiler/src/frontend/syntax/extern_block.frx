export import "../ast/extern_block.frx";
import "func_decl.frx";
import "../core/parser.frx";
import "../../core/list.frx";

export ExternBlock* extern_block_parse(Parser* parser)
{
    frx::assert(parser != nullptr);

    ExternBlock* extern_block = extern_block_new(&parser->arena);

    parser_eat(parser, TokenType::KW_EXTERN);

    parser_eat(parser, TokenType::LBRACE);

    while(parser_loop_until(parser, TokenType::RBRACE))
    {
        list_push(&extern_block->func_decls, func_decl_parse(parser));
    }

    parser_eat(parser, TokenType::RBRACE);

    return extern_block;
}
