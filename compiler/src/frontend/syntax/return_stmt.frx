export import "../ast/return_stmt.frx";
import "expr.frx";
import "../core/parser.frx";

export ReturnStmt* return_stmt_parse(Parser* parser)
{
    frx::assert(parser != nullptr);

    parser_eat(parser, TokenType::KW_RETURN);

    if(parser->token->type != TokenType::SEMICOLON)
    {
        Expr* value = expr_parse(parser);

        parser_eat(parser, TokenType::SEMICOLON);

        return return_stmt_with_value(&parser->arena, value);
    }

    parser_eat(parser, TokenType::SEMICOLON);

    return return_stmt_new(&parser->arena);
}
