export import "../ast/var.frx";
import "std/libc.frx";
import "../core/namespace.frx";
import "../core/parser.frx";
import "../core/scope.frx";
import "../symbols/var.frx";

export Var* var_parse(Parser* parser, CoreNamespace* ns)
{
    frx::assert(parser != nullptr);

    mut Var* var = var_new(&parser->arena, ns, parser->current_scope, parser->token->identifier);

    var->range.start = parser_current_location(parser);
    var->range.end = parser_current_location(parser);
    var->range.end.column = var->range.end.column + libc_strlen(var->name);

    parser_eat(parser, TokenType::IDENTIFIER);

    return var;
}
