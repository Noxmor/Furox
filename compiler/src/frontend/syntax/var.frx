export import "../ast/var.frx";
import "std/libc.frx";
import "../core/namespace.frx";
import "../core/parser.frx";
import "../core/scope.frx";
import "../symbols/var.frx";

namespace AST::Var
{
    export Var* parse(Parser* parser, core::Namespace* ns)
    {
        frx::assert(parser != nullptr);

        mut Var* var = new(&parser->arena, ns, parser->current_scope, parser->token->identifier);

        var->range.start = Parser::current_location(parser);
        var->range.end = Parser::current_location(parser);
        var->range.end.column = var->range.end.column + libc::strlen(var->name);

        Parser::eat(parser, TokenType::IDENTIFIER);

        return var;
    }
}
