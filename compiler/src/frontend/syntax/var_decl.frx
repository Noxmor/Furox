export import "../ast/var_decl.frx";
import "type_specifier.frx";
import "../core/parser.frx";
import "../core/scope.frx";
import "../symbols/var.frx";

namespace AST::VarDecl
{
    export VarDecl* parse(Parser* parser, TypeSpecifier* type, char* name, b8 mutable)
    {
        frx::assert(parser != nullptr);

        VarDecl* var_decl = new(&parser->arena, type, parser->current_scope, name, mutable);

        var_table_insert(&parser->var_table, &var_decl->symbol);

        parser_eat(parser, TokenType::SEMICOLON);

        return var_decl;
    }
}
